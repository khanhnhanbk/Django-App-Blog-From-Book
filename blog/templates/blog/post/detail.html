{% extends 'blog/base.html' %}
{% block title %}
  {{ block.super }} | {{ post.title }}
{% endblock %}
{% block content %}
  <!-- Image Section -->
  <div class="bg-image hover-overlay" data-mdb-ripple-init data-mdb-ripple-color="light">
    <img src="https://picsum.photos/300/200?random={{ post.id }}" class="img-fluid w-100" />
    <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
  </div>

  <!-- Content Section -->
  <div class="container mt-5">
    <h1 class="display-4">{{ post.title }}</h1>
    <p class="lead">{{ post.content }}</p>
  </div>

  <!-- Share Button -->
  <a href="{% url 'blog:post_share' post.id %}" class="btn btn-warning btn-lg mt-3"><i class="bi bi-share-fill"></i> Share</a>
  <!-- Comment Section -->
  <div class="container mt-5">
    <h2 class="h4">Comments</h2>
    <form action="{% url 'blog:post_comment' post.id %}" method="post">
      {% csrf_token %}
      {% load crispy_forms_tags %}
      {{ form|crispy }}
      <button type="submit" class="btn btn-primary mt-3">Add Comment</button>
    </form>
    <ul class="list-unstyled mt-4">
      {% for comment in comments %}
        <li class="mb-2">
          <strong>{{ comment.name }}</strong>: {{ comment.body }}
        </li>
      {% empty %}
        <li>No comments yet.</li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
